<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Dungeon Crawler Complet</title>
    <!-- Lien vers le fichier CSS externe -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="game-container">
        <h1>Mini Dungeon Crawler</h1>

        <div id="game-screen">
            <!-- Zone principale du jeu (Carte, Combat, Inventaire, etc.) -->
            <div id="main-view-area">
                <div id="main-view">
                    <!-- Contenu dynamique chargé par JS -->
                    <div id="map-display"></div>
                    <div id="combat-display" class="hidden"></div>
                    <div id="inventory-display" class="hidden"></div>
                    <div id="skills-display" class="hidden"></div>
                </div>
                <!-- Journal des messages -->
                <div id="message-log">
                    <h3>Journal</h3> <!-- Changed from Log to Journal -->
                    <!-- Messages ajoutés par JS -->
                </div>
            </div>

            <!-- Panneau des statistiques du joueur -->
            <div id="player-stats">
                <h3>Joueur</h3>
                <p><span title="Niveau">⭐</span> Niveau: <span id="stat-level">1</span></p>
                <p><span title="Points de Vie">❤️</span> PV: <span id="stat-hp">0</span>/<span id="stat-max-hp">0</span></p>
                <div class="stat-bar-container"><div id="hp-bar" class="stat-bar hp-bar"></div></div>
                <p><span title="Points de Mana">💧</span> PM: <span id="stat-mp">0</span>/<span id="stat-max-mp">0</span></p>
                <div class="stat-bar-container"><div id="mp-bar" class="stat-bar mp-bar"></div></div>
                <p><span title="Expérience">📈</span> XP: <span id="stat-xp">0</span>/<span id="stat-xp-next">0</span></p>
                <div class="stat-bar-container"><div id="xp-bar" class="stat-bar xp-bar"></div></div>
                <p><span title="Attaque">⚔️</span> Attaque: <span id="stat-attack">0</span></p>
                <p><span title="Défense">🛡️</span> Défense: <span id="stat-defense">0</span></p>
                <p><span title="Chance de Critique">🎯</span> Critique: <span id="stat-crit">0</span>%</p>
                <p><span title="Chance d'Esquive">💨</span> Esquive: <span id="stat-dodge">0</span>%</p>
                <p><span title="Or">💰</span> Or: <span id="stat-gold">0</span></p>
                <hr style="border-color: var(--border-color); margin: 10px 0;"> <!-- Adjusted margin -->
                <p><span title="Arme">🗡️</span> Arme: <span id="stat-weapon">Aucune</span></p>
                <p><span title="Armure">👕</span> Armure: <span id="stat-armor">Aucune</span></p>
                <p><span title="Anneau 1">💍</span> Anneau 1: <span id="stat-ring1">Aucun</span></p>
                <p><span title="Anneau 2">💍</span> Anneau 2: <span id="stat-ring2">Aucun</span></p>
                <p><span title="Amulette">📿</span> Amulette: <span id="stat-amulet">Aucun</span></p>
            </div>
        </div>

        <!-- Zone des contrôles -->
        <div id="controls">
            <button onclick="GameManager.toggleInventory()">🎒 Inventaire (I)</button> <!-- Added Icon & Key Hint -->
            <button onclick="GameManager.toggleSkills()">✨ Compétences (K)</button> <!-- Added Icon & Key Hint -->
            <button id="shop-btn" onclick="GameManager.enterShop()">🏪 Boutique</button> <!-- Added Icon -->
            <button id="return-hub-btn" onclick="GameManager.returnToHub()">🛖 Retour Village</button> <!-- Added Icon -->
            <button onclick="GameManager.saveGame()">💾 Sauvegarder</button> <!-- Added Icon -->
            <button onclick="GameManager.loadGame()">🔄 Charger</button> <!-- Added Icon -->
            <!-- Bouton de Test Removed - Add it back in JS if needed for debugging -->
            <!-- <button onclick="GameManager.addTestGold(2000)" style="background-color: #e57373; color: black; border-color: red;">+2000 Or (Test)</button> -->
        </div>

        <!-- Information sur le lieu actuel -->
        <span id="location-info">Lieu: Chargement...</span>

        <!-- Écran Game Over (caché par défaut) -->
        <div id="game-over-screen" class="hidden">
            <h2>💀 GAME OVER 💀</h2> <!-- Added Icons -->
            <p>Vous avez été vaincu.</p>
            <!-- Ensure hideGameOver is called correctly to remove the screen -->
            <button onclick="GameManager.hideGameOver(); GameManager.loadGame()">🔄 Charger la Dernière Sauvegarde</button> <!-- Combined hide and load -->
             <button onclick="window.location.reload()">🔁 Recommencer (Nouvelle partie)</button> <!-- Added restart button -->
        </div>

        <!-- Modale Boutique (cachée par défaut) -->
        <div id="modal-backdrop" class="hidden"></div> <!-- Use class hidden -->
        <div id="shop-modal" class="modal hidden"> <!-- Added modal class, use class hidden -->
             <h2><span id="shop-title-icon">🏪</span> Boutique</h2>
            <div id="shop-content">
                <!-- Contenu généré dynamiquement par renderShop() -->
                <p>Chargement...</p>
            </div>
             <div id="shop-player-gold"> Votre Or : 💰 <span id="shop-gold-display">0</span> </div>
            <div id="shop-modal-controls">
                <button id="close-shop-btn" class="modal-button" onclick="GameManager.exitShop()">Fermer</button>
             </div>
        </div>
    </div>

    <!-- Lien vers le fichier JavaScript externe (toujours à la fin) -->
    <script src="script.js"></script>

</body>
</html>
