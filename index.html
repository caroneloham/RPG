<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Dungeon Crawler Complet</title>
    <!-- Lien vers le fichier CSS externe -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="game-container">
        <h1>Mini Dungeon Crawler</h1>

        <div id="game-screen">
            <div id="main-view-area">
                <div id="main-view">
                    <!-- Les différentes vues seront affichées ici par le JS -->
                    <div id="map-display"></div>
                    <div id="combat-display" class="hidden"></div>
                    <div id="inventory-display" class="hidden"></div>
                    <div id="skills-display" class="hidden"></div>
                </div>
                <div id="message-log"><h3>Log</h3></div>
            </div>

            <div id="player-stats">
                <h3>Joueur</h3>
                <p><span title="Niveau">⭐</span> Niveau: <span id="stat-level">1</span></p>
                <p><span title="Points de Vie">❤️</span> PV: <span id="stat-hp">10</span>/<span id="stat-max-hp">10</span></p>
                <div class="stat-bar-container"><div id="hp-bar" class="stat-bar hp-bar"></div></div>
                <p><span title="Points de Mana">💧</span> PM: <span id="stat-mp">5</span>/<span id="stat-max-mp">5</span></p>
                <div class="stat-bar-container"><div id="mp-bar" class="stat-bar mp-bar"></div></div>
                <p><span title="Expérience">📈</span> XP: <span id="stat-xp">0</span>/<span id="stat-xp-next">100</span></p>
                <div class="stat-bar-container"><div id="xp-bar" class="stat-bar xp-bar"></div></div>
                <p><span title="Attaque">⚔️</span> Attaque: <span id="stat-attack">5</span></p>
                <p><span title="Défense">🛡️</span> Défense: <span id="stat-defense">2</span></p>
                <!-- Nouvelles stats ajoutées -->
                <p><span title="Chance de Critique">🎯</span> Critique: <span id="stat-crit">0</span>%</p>
                <p><span title="Chance d'Esquive">💨</span> Esquive: <span id="stat-dodge">0</span>%</p>
                <!-- Fin nouvelles stats -->
                <p><span title="Or">💰</span> Or: <span id="stat-gold">0</span></p>
                <hr style="border-color: var(--border-color); margin: 15px 0;">
                <!-- Équipement -->
                <p><span title="Arme">🗡️</span> Arme: <span id="stat-weapon">Aucune</span></p>
                <p><span title="Armure">👕</span> Armure: <span id="stat-armor">Aucune</span></p>
                <!-- Accessoires équipés -->
                <p><span title="Anneau 1">💍</span> Anneau 1: <span id="stat-ring1">Aucun</span></p>
                <p><span title="Anneau 2">💍</span> Anneau 2: <span id="stat-ring2">Aucun</span></p>
                <p><span title="Amulette">📿</span> Amulette: <span id="stat-amulet">Aucun</span></p>
                <!-- Fin équipement -->
            </div>
        </div>

        <div id="controls">
            <!-- Les appels de fonction JavaScript restent ici -->
            <button onclick="GameManager.toggleInventory()">Inventaire</button>
            <button onclick="GameManager.toggleSkills()">Compétences</button>
            <button id="shop-btn" onclick="GameManager.enterShop()">Boutique</button>
            <button id="return-hub-btn" onclick="GameManager.returnToHub()">Retour Village</button>
            <button onclick="GameManager.saveGame()">Sauvegarder</button>
            <button onclick="GameManager.loadGame()">Charger</button>
        </div>
        <span id="location-info">Lieu: Village</span>

        <!-- Écran Game Over -->
        <div id="game-over-screen" class="hidden">
            <h2>GAME OVER</h2>
            <p>Vous avez été vaincu.</p>
            <!-- Le JS gère le rechargement et le masquage de l'écran -->
            <button onclick="GameManager.loadGame(); GameManager.hideGameOver()">Charger la Dernière Sauvegarde</button>
        </div>

        <!-- Modale Boutique -->
        <div id="modal-backdrop"></div>
        <div id="shop-modal" class="hidden"> <!-- Start hidden -->
             <h2><span id="shop-title-icon">🏪</span> Boutique</h2>
            <div id="shop-content">
                <!-- Contenu généré par JS -->
            </div>
             <div id="shop-player-gold"> Votre Or : 💰 <span id="shop-gold-display">0</span> </div>
            <div id="shop-modal-controls">
                <button id="close-shop-btn" class="modal-button" onclick="GameManager.exitShop()">Fermer</button>
             </div>
        </div>
    </div>

    <!-- Lien vers le fichier JavaScript externe (placé à la fin du body) -->
    <script src="script.js"></script>

</body>
</html>
