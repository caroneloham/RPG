<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Dungeon Crawler Complet</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="game-container">
        <h1>Mini Dungeon Crawler</h1>

        <div id="game-screen">
            <div id="main-view-area">
                <div id="main-view">
                    <div id="map-display"></div>
                    <div id="combat-display" class="hidden"></div>
                    <div id="inventory-display" class="hidden"></div>
                    <div id="skills-display" class="hidden"></div>
                </div>
                <div id="message-log"><h3>Log</h3></div>
            </div>

            <div id="player-stats">
                <h3>Joueur</h3>
                <p><span title="Niveau">â­</span> Niveau: <span id="stat-level">1</span></p>
                <p><span title="Points de Vie">â¤ï¸</span> PV: <span id="stat-hp">10</span>/<span id="stat-max-hp">10</span></p>
                <div class="stat-bar-container"><div id="hp-bar" class="stat-bar hp-bar"></div></div>
                <p><span title="Points de Mana">ğŸ’§</span> PM: <span id="stat-mp">5</span>/<span id="stat-max-mp">5</span></p>
                <div class="stat-bar-container"><div id="mp-bar" class="stat-bar mp-bar"></div></div>
                <p><span title="ExpÃ©rience">ğŸ“ˆ</span> XP: <span id="stat-xp">0</span>/<span id="stat-xp-next">100</span></p>
                <div class="stat-bar-container"><div id="xp-bar" class="stat-bar xp-bar"></div></div>
                <p><span title="Attaque">âš”ï¸</span> Attaque: <span id="stat-attack">5</span></p>
                <p><span title="DÃ©fense">ğŸ›¡ï¸</span> DÃ©fense: <span id="stat-defense">2</span></p>
                <p><span title="Chance de Critique">ğŸ¯</span> Critique: <span id="stat-crit">0</span>%</p>
                <p><span title="Chance d'Esquive">ğŸ’¨</span> Esquive: <span id="stat-dodge">0</span>%</p>
                <p><span title="Or">ğŸ’°</span> Or: <span id="stat-gold">0</span></p>
                <hr style="border-color: var(--border-color); margin: 15px 0;">
                <p><span title="Arme">ğŸ—¡ï¸</span> Arme: <span id="stat-weapon">Aucune</span></p>
                <p><span title="Armure">ğŸ‘•</span> Armure: <span id="stat-armor">Aucune</span></p>
                <p><span title="Anneau 1">ğŸ’</span> Anneau 1: <span id="stat-ring1">Aucun</span></p>
                <p><span title="Anneau 2">ğŸ’</span> Anneau 2: <span id="stat-ring2">Aucun</span></p>
                <p><span title="Amulette">ğŸ“¿</span> Amulette: <span id="stat-amulet">Aucun</span></p>
            </div>
        </div>

        <div id="controls">
            <button onclick="GameManager.toggleInventory()">Inventaire</button>
            <button onclick="GameManager.toggleSkills()">CompÃ©tences</button>
            <button id="shop-btn" onclick="GameManager.enterShop()">Boutique</button>
            <button id="return-hub-btn" onclick="GameManager.returnToHub()">Retour Village</button>
            <button onclick="GameManager.saveGame()">Sauvegarder</button>
            <button onclick="GameManager.loadGame()">Charger</button>
            <!-- BOUTON DE TEST AJOUTÃ‰ ICI -->
            <button onclick="GameManager.addTestGold(2000)" style="background-color: #e57373; color: black; border-color: red;">+2000 Or (Test)</button>
            <!-- FIN BOUTON DE TEST -->
        </div>
        <span id="location-info">Lieu: Village</span>

        <div id="game-over-screen" class="hidden">
            <h2>GAME OVER</h2>
            <p>Vous avez Ã©tÃ© vaincu.</p>
            <button onclick="GameManager.loadGame(); GameManager.hideGameOver()">Charger la DerniÃ¨re Sauvegarde</button>
        </div>

        <div id="modal-backdrop"></div>
        <div id="shop-modal" class="hidden">
             <h2><span id="shop-title-icon">ğŸª</span> Boutique</h2>
            <div id="shop-content"></div>
             <div id="shop-player-gold"> Votre Or : ğŸ’° <span id="shop-gold-display">0</span> </div>
            <div id="shop-modal-controls">
                <button id="close-shop-btn" class="modal-button" onclick="GameManager.exitShop()">Fermer</button>
             </div>
        </div>
    </div>

    <script src="script.js"></script>
<scritp>
    // --- GameManager Object ---
const GameManager = {
    // ... (toutes les fonctions existantes: initialize, handleInput, movePlayer, etc.) ...

    // --- NOUVELLE FONCTION DE TEST ---
    addTestGold: function(amount) {
        if (!player) return; // SÃ©curitÃ© si le joueur n'est pas encore initialisÃ©
        player.gold += amount;
        logMessage(`CHEAT: +${amount} ${TILE.GOLD}.`);
        renderStats(); // Met Ã  jour l'affichage de l'or immÃ©diatement
        // Optionnel: sauvegarder directement pour que l'or reste aprÃ¨s un F5 + Chargement
        // this.saveGame();
    },
    // --- FIN NOUVELLE FONCTION DE TEST ---

    updateButtonStates: function() {
        // ... (code existant) ...
    }
}; // Fin de l'objet GameManager

// ... (reste du code JS : CombatManager, ShopManager, etc.) ...

// --- Initialize Game ---
GameManager.initialize();
</scritp>
</body>
</html>
